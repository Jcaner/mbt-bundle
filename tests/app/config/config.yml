framework:
    secret:          secret
    test:            ~
    router:          { resource: '%kernel.project_dir%/config/routing.yml' }
    templating:      { engines: ['twig'] }
    assets:          ~
    messenger:
        transports:
            filesystem: "filesystem://%kernel.cache_dir%/queue"
        routing:
            '*': filesystem

doctrine:
    dbal:
        driver:      pdo_sqlite
        path:        "%kernel.cache_dir%/test.db"
    orm:
        auto_mapping: true

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    Tienvx\Bundle\MbtBundle\Tests\:
        resource: '../src/*'
        exclude: '../src/{AppKernel.php}'

    Pnz\Messenger\FilesystemTransport\FilesystemTransportFactory:
        arguments:
            $encoder: '@messenger.transport.encoder'
            $decoder: '@messenger.transport.decoder'
            # Both the "filesystem" and "lock.factory" services can be auto-wired by Symfony
            $filesystem: '@filesystem'
            $lockFactory: '@lock.factory'
        # Configure the tags: this enables the `filesystem://` transport to be auto-discovered
        tags: ['messenger.transport_factory']

    GuzzleHttp\Client:
        alias:  Tienvx\Bundle\MbtBundle\Tests\Http\Client

swiftmailer:
    url: 'null://localhost'
    spool:
        type: file
        path: "%kernel.cache_dir%/spool"

security:
    providers:
        in_memory: { memory: ~ }
    firewalls:
        main:
            anonymous: ~

tienvx_mbt:
    generator:
        max_path_length: 300
        transition_coverage: 100
        place_coverage: 100
    default_bug_title: 'New bug found'
    reporter:
        email:
            from: 'send@example.com'
            to: 'recipient@example.com'
        hipchat:
            address: 'https://api.hipchat.com/v2'
            room: 'test.ModelBasedTesting'
            token: 'fake7f549278d7eafd9bd0ee637e5641399406b6'
            color: 'purple'
            notify: false
            format: 'html'
        slack:
            address: 'https://slack.com/api'
            channel: 'test.ModelBasedTesting'
            token: 'fake7f549278d7eafd9bd0ee637e5641399406b6'
        github:
            address: 'https://api.github.com'
            repoOwner: 'test'
            repoName: 'mbt'
            token: 'fake7f549278d7eafd9bd0ee637e5641399406b6'
        gitlab:
            address: 'https://gitlab.example.com/api/v4'
            projectId: 4
            token: 'fake9koXpg98eAheJpvBs5tK'
        jira:
            address: 'https://your-domain.atlassian.net/rest/api/3'
            username: 'email@example.com'
            password: 'fake7f54927'
            projectId: 10000
            issueType: 10000
    subjects:
        shopping_cart: Tienvx\Bundle\MbtBundle\Tests\Subject\ShoppingCart
        checkout: Tienvx\Bundle\MbtBundle\Tests\Subject\Checkout
