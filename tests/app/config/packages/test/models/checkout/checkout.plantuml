@startuml
allow_mixing
title checkout
skinparam titleBorderRoundCorner 15
skinparam titleBorderThickness 2
skinparam state {
    BackgroundColor<<initial>> #87b741
    BackgroundColor<<marked>> #3887C6
    BorderColor #3887C6
    BorderColor<<marked>> Black
    FontColor<<marked>> White
}
skinparam agent {
    BackgroundColor #ffffff
    BorderColor #3887C6
}
state "home" <<initial>>
state "awaitingAccount"
state "awaitingBillingAddress"
state "awaitingDeliveryAddress"
state "awaitingDeliveryMethod"
state "awaitingPaymentMethod"
state "accountAdded"
state "billingAddressAdded"
state "deliveryAddressAdded"
state "deliveryMethodAdded"
state "paymentMethodAdded"
state "orderPlaced"
agent "addProductAndCheckoutNotLoggedIn"
agent "addProductAndCheckoutLoggedIn"
agent "login"
agent "guestCheckout"
agent "registerAccount"
agent "addBillingAddress"
agent "addDeliveryAddress"
agent "addDeliveryMethod"
agent "addPaymentMethod"
agent "confirmOrder"
agent "continueShopping"
"home" --> "addProductAndCheckoutNotLoggedIn"
"addProductAndCheckoutNotLoggedIn" --> "awaitingAccount"
"home" --> "addProductAndCheckoutLoggedIn"
"addProductAndCheckoutLoggedIn" --> "accountAdded"
"addProductAndCheckoutLoggedIn" --> "awaitingBillingAddress"
"addProductAndCheckoutLoggedIn" --> "awaitingDeliveryAddress"
"addProductAndCheckoutLoggedIn" --> "awaitingDeliveryMethod"
"addProductAndCheckoutLoggedIn" --> "awaitingPaymentMethod"
"awaitingAccount" --> "login"
"login" --> "accountAdded"
"login" --> "awaitingBillingAddress"
"login" --> "awaitingDeliveryAddress"
"login" --> "awaitingDeliveryMethod"
"login" --> "awaitingPaymentMethod"
"awaitingAccount" --> "guestCheckout"
"guestCheckout" --> "accountAdded"
"guestCheckout" --> "awaitingBillingAddress"
"guestCheckout" --> "awaitingDeliveryAddress"
"guestCheckout" --> "awaitingDeliveryMethod"
"guestCheckout" --> "awaitingPaymentMethod"
"awaitingAccount" --> "registerAccount"
"registerAccount" --> "accountAdded"
"registerAccount" --> "awaitingBillingAddress"
"registerAccount" --> "awaitingDeliveryAddress"
"registerAccount" --> "awaitingDeliveryMethod"
"registerAccount" --> "awaitingPaymentMethod"
"awaitingBillingAddress" --> "addBillingAddress"
"addBillingAddress" --> "billingAddressAdded"
"awaitingDeliveryAddress" --> "addDeliveryAddress"
"addDeliveryAddress" --> "deliveryAddressAdded"
"awaitingDeliveryMethod" --> "addDeliveryMethod"
"addDeliveryMethod" --> "deliveryMethodAdded"
"awaitingPaymentMethod" --> "addPaymentMethod"
"addPaymentMethod" --> "paymentMethodAdded"
"accountAdded" --> "confirmOrder"
"confirmOrder" --> "orderPlaced"
"billingAddressAdded" --> "confirmOrder"
"deliveryAddressAdded" --> "confirmOrder"
"deliveryMethodAdded" --> "confirmOrder"
"paymentMethodAdded" --> "confirmOrder"
"orderPlaced" --> "continueShopping"
"continueShopping" --> "home"
@enduml
